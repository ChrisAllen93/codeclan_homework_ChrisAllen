mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
scottish_exports %>%
filter(year == "2015") %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
# geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
scottish_exports %>%
filter(year == "2015") %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year)
scottish_exports %>%
filter(year == "2015") %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = scottish_exports$year)
# geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
scottish_exports %>%
filter(year == c("2015","2012") %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = scottish_exports$year)
# geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
scottish_exports %>%
filter(year == c("2015","2012")) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = scottish_exports$year)
# geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
scottish_exports %>%
filter(year %in% c("2015","2012")) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = scottish_exports$year)
# geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
year_input = c("2012", "2015")
scottish_exports %>%
filter(year == "2015") %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input)
year_input = c("2012", "2015")
scottish_exports %>%
filter(year == year_input) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input)
year_input = c("2012", "2015")
scottish_exports %>%
filter(year %ini% year_input) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input)
year_input = c("2012", "2015")
scottish_exports %>%
filter(year %in% year_input) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input)
scottish_exports %>%
filter(year %in% year_input)
scottish_exports %>%
filter(year %in% year_input) %>%
mutate(frac = exports/sum(exports))
year_input = c("2012", "2015")
scottish_exports %>%
filter(year %in% year_input) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input) +
# geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
year_input = c("2012", "2015")
scottish_exports %>%
filter(year %in% year_input) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = c("2012", "2015")) +
# geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
scottish_exports %>%
filter(year %in% year_input) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = c("2012", "2015")) +
# geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
?breaks
?scale_x_continuous
year_input = c("2012", "2015")
scottish_exports %>%
filter(year %in% year_input) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = NULL) +
# geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
year_input = c(2012, 2015)
scottish_exports %>%
filter(year %in% year_input)
scottish_exports %>%
filter(year == year_input)
year_input = c(2012, 2015)
scottish_exports %>%
filter(year == year_input) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input) +
# geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
year_input = c(2012, 2015)
scottish_exports %>%
filter(year == year_input) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input) +
# geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
scottish_exports %>%
filter(year == year_input) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports))
year_input = c(2012, 2015)
scottish_exports %>%
filter(year == year_input) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input) +
# geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
year_input = c(2012, 2015)
scottish_exports %>%
filter(year == year_input) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input) +
geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
year_input = c(2012, 2015)
scottish_exports %>%
filter(year == year_input) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports),
sector = factor(sector)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input) +
geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
year_input = c(2012, 2015)
scottish_exports %>%
filter(year == year_input) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input) +
geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
year_input = c(2012, 2015)
scottish_exports %>%
filter(year == year_input) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input) +
geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
year_input = c(2012)
scottish_exports %>%
filter(year == year_input) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input) +
geom_text(aes(label = frac), vjust = 0.5) +
# geom_text(aes(vjust = 0.5)) +
labs(x = "Year",
y = "Fraction of Exports")
year_input = c(2012)
scottish_exports %>%
filter(year == year_input) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input) +
# geom_text(aes(label = frac), vjust = 0.5) +
labs(x = "Year",
y = "Fraction of Exports",
fill = "Sector")
year_input = c(2012)
scottish_exports %>%
filter(year == year_input) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input) +
# geom_text(aes(label = frac), vjust = 0.5) +
labs(x = "Year",
y = "Fraction of Exports",
fill = "Sector")
runApp('scottish _exports_shiny_app.R')
runApp('scottish _exports_shiny_app.R')
runApp('scottish _exports_shiny_app.R')
unique(scottish_exports$year)
scottish_exports <- read_csv("scottish_exports.csv")
runApp('scottish _exports_shiny_app.R')
yearinput = c(2012)
yearinput <- c(2012)
yearinput <- c(2012)
scottish_exports %>%
filter(year == year_input) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = year_input) +
# geom_text(aes(label = frac), vjust = 0.5) +
labs(x = "Year",
y = "Fraction of Exports",
fill = "Sector")
scottish_exports
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = yearinput) +
# geom_text(aes(label = frac), vjust = 0.5) +
labs(x = "Year",
y = "Fraction of Exports",
fill = "Sector")
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = yearinput) +
# geom_text(aes(label = frac), vjust = 0.5) +
labs(x = "Year",
y = "Fraction of Exports",
fill = "Sector")
scottish_exports %>%
filter(year == yearinput)
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports))
scottish_exports
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports))
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack")
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = yearinput)
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = yearinput) +
# geom_text(aes(label = frac), vjust = 0.5) +
labs(x = "Year",
y = "Fraction of Exports",
fill = "Sector")
runApp('scottish _exports_shiny_app.R')
runApp('scottish _exports_shiny_app.R')
runApp('scottish _exports_shiny_app.R')
runApp('scottish _exports_shiny_app.R')
scottish_exports %>%
filter(year == min(year))
scottish_exports %>%
filter(year == min(year))
scottish_exports
scottish_exports %>%
mutate(change_since_2002 = exports/lag(exports))
scottish_exports %>%
mutate(change_since_2002 = exports/lag(exports, n = year - 2002))
scottish_exports %>%
mutate(year = as.integer(year)) %>%
mutate(change_since_2002 = exports/lag(exports, n = year - 2002))
scottish_exports
scottish_exports %>%
mutate(year = as.integer(year))
scottish_exports %>%
mutate(year = as.integer(year)) %>%
mutate(year = year - 2002) %>%
mutate(change_since_2002 = exports/lag(exports, n = year - 2002))
scottish_exports %>%
mutate(year = as.integer(year)) %>%
mutate(year = year - 2002)
scottish_exports %>%
mutate(year = as.integer(year)) %>%
mutate(years_since_2002 = year - 2002) %>%
mutate(change_since_2002 = exports/lag(exports, n = years_since_2002))
?lag
runApp('scottish _exports_shiny_app.R')
library(shiny); runApp('scottish _exports_shiny_app.R')
scottish_exports <- read_csv("scottish_exports.csv")
runApp('scottish _exports_shiny_app.R')
yearinput <- c(2012)
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = yearinput) +
geom_text(aes(label = frac), vjust = 0.5) +
labs(x = "Year",
y = "Fraction of Exports",
fill = "Sector")
yearinput <- c(2012)
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = yearinput) +
geom_text(aes(label = frac), vjust = 0.5) +
labs(x = "Year",
y = "Fraction of Exports",
fill = "Sector")
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports))
yearinput <- c(2012)
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
arrange(sector) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = yearinput) +
geom_text(aes(label = frac), vjust = 0.5) +
labs(x = "Year",
y = "Fraction of Exports",
fill = "Sector")
yearinput <- c(2012)
scottish_exports %>%
filter(year == yearinput) %>%
group_by(year) %>%
mutate(frac = exports/sum(exports)) %>%
ggplot(aes(x = year,
y = frac,
fill = sector)) +
geom_col(position = "stack") +
scale_x_continuous(breaks = yearinput) +
geom_text(aes(label = frac), vjust = 0.5) +
labs(x = "Year",
y = "Fraction of Exports",
fill = "Sector")
